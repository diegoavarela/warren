<!DOCTYPE html>
<html>
<head>
    <title>Test Company Access</title>
</head>
<body>
    <h1>Debug Company Selection</h1>
    <div id="debug-info"></div>
    
    <script>
        // Check what's in session storage
        const selectedCompanyId = sessionStorage.getItem('selectedCompanyId');
        const selectedCompanyName = sessionStorage.getItem('selectedCompanyName');
        
        const debugInfo = document.getElementById('debug-info');
        debugInfo.innerHTML = `
            <h2>Session Storage:</h2>
            <p><strong>selectedCompanyId:</strong> ${selectedCompanyId || 'NOT SET'}</p>
            <p><strong>selectedCompanyName:</strong> ${selectedCompanyName || 'NOT SET'}</p>
            
            <h2>Known Company IDs:</h2>
            <p><strong>Demo Company Inc:</strong> b72e7581-3a7a-4799-b4cf-ce2e24bb179e</p>
            <p><strong>VTEX Solutions SRL:</strong> b1dea3ff-cac4-45cc-be78-5488e612c2a8</p>
            <p><strong>Diego's Company:</strong> b00f41e8-53f7-4350-8e98-94e818d7c542</p>
            
            <h2>Analysis:</h2>
            <p id="analysis"></p>
            
            <h2>Actions:</h2>
            <button onclick="setVTEXCompany()">Set VTEX Solutions SRL</button>
            <button onclick="clearStorage()">Clear Session Storage</button>
        `;
        
        // Analysis
        const analysisElement = document.getElementById('analysis');
        if (selectedCompanyId === 'b72e7581-3a7a-4799-b4cf-ce2e24bb179e') {
            analysisElement.innerHTML = '<span style="color: red;">❌ You are accessing the DEMO COMPANY! This explains the mock data.</span>';
        } else if (selectedCompanyId === 'b1dea3ff-cac4-45cc-be78-5488e612c2a8') {
            analysisElement.innerHTML = '<span style="color: green;">✅ You are accessing VTEX Solutions SRL (correct company).</span>';
        } else {
            analysisElement.innerHTML = '<span style="color: orange;">⚠️ Unknown or missing company ID.</span>';
        }
        
        function setVTEXCompany() {
            sessionStorage.setItem('selectedCompanyId', 'b1dea3ff-cac4-45cc-be78-5488e612c2a8');
            sessionStorage.setItem('selectedCompanyName', 'VTEX Solutions SRL');
            alert('Set to VTEX Solutions SRL. Refresh the page to see changes.');
            location.reload();
        }
        
        function clearStorage() {
            sessionStorage.clear();
            alert('Cleared session storage. Refresh the page to see changes.');
            location.reload();
        }
    </script>
</body>
</html>